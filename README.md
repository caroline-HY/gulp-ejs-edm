# gulp-ejs实现EDM邮件模板

gulp-ejs 合并静态页模版。

* `npm install`  安装依赖
* `gulp` 启动一个本地服务器，并合并模板
* `gulp dev` 合并模版，并打包上传到开发环境
* `gulp res` 合并模版，并打包上传到正式环境
 
## 流程

1. 模板编码，即 `dev` 目录，页面入口以 `.html` 结尾，分支模版以 `.ejs` 结尾，没有目录结构限制，按需引入或编写新的页面模块。在这个阶段可以启动服务器 `gulp` 进行页面预览。

2. 编写数据文件，分为全局数据文件 `global.json` 和页面数据文件，使用通用的 `json` 格式。全局数据文件必须放到模版根目录，一个页面对应一个同名的数据文件同级目录。数据中可以写，比如： `title：页面标题` 、`styles：依赖的样式文件路径`、 `scripts：依赖的脚本文件路径` ，随时可以根据实际情况添加新的数据项。

3. 执行 `gulp` 任务，生成页面到 `res/html/` 目录。


## 其他

实际工作中肯定还会搭配其他任务一起运行，比如：css 和 js 相关任务。此 Demo 中省略，可根据各自项目情况自行更改。
